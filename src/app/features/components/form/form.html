<section class="order">
  <div class="order__container container">
    <div class="order__info-block">
      <h2 class="order__info-title">
        Хватит думать! <br />
        <span>Доставим заказ за 30 минут!</span>
      </h2>
      <p class="order__info-text">
        Мы гарантированно доставим вашу пиццу за 30 минут с момента оформления
        заказа. Если мы опоздаем даже на 1 минуту - вы получаете весь заказ
        бесплатно и ваучер на скидку на следующий заказ. Мы гордимся нашим
        сервисом и сделаем всё, чтобы наш клиент был доволен и не остался
        голодный!
      </p>
    </div>
    <form [formGroup]="orderForm" class="order__form">
      <div class="order__form-input-block">
        <input
          id="name"
          type="text"
          formControlName="name"
          placeholder="Ваше имя"
          class="order__input"
          appInputDenySymbols
        />
        @if(name?.touched && name?.invalid) {
        <div class="error">
          @if(name?.errors?.['required']) {
          <small>Имя обязательно</small>
          } @else if(name?.errors?.['minlength']) {
          <small>Минимум 2 символа</small>
          }
        </div>
        }
      </div>
      <div class="order__form-input-block">
        <input
          id="address"
          formControlName="address"
          type="text"
          placeholder="Адрес доставки"
          class="order__input"
        />
        @if(address?.touched && address?.invalid) {

        <div class="error">
          @if(address?.errors?.['required']) {

          <small>Адрес обязателен</small>

          }
        </div>
        }
      </div>
      <div class="order__form-input-block">
        <input
          id="phone"
          formControlName="phone"
          type="text"
          placeholder="Телефон"
          class="order__input"
        />
        @if(phone?.touched && phone?.invalid) {
        <div class="error">
          @if(phone?.errors?.['required']) {

          <small>Телефон обязателен</small>

          }@else if (phone?.errors?.['pattern']) {

          <small>Введите корректный номер</small>

          }
        </div>
        }
      </div>
      <button class="button button__form" (click)="onSubmit()">
        Оформить заказ
      </button>
    </form>
    <div class="order__image">
      <img src="assets/images/pizzzzza.png" alt="pizzzzza" />
    </div>
  </div>
</section>

@if(showPopup()) {
<div class="popup">
  <div class="popup__content">
    <h2>Спасибо за заказ!</h2>
    <button class="button button__main" (click)="closePopup()">OK</button>
  </div>
</div>
}
